VERY IMPORTANT KEY LEARNINGS

Main Question: HOW ARE BOOKMARKS ADDED INTO FR:Layers

*** VERY VERY VERY IMPORTANT!!!! ***

BackendRenderer only updates UserMarks(Bookmarks, LocalAds, ...) through FlushUserMarksMessage to FrontendRenderer
they are called Flush because just like printf and stuff they locally buffer it(through the Batcher in this case)
so Flushing means I'm done will all my edits, send it out to be rendered

SO, basically don't waste your time. If a UserMarksContainer calls NotifyChanges()
    frontendRenderer WILL HEAR ABOUT IT!!!

*** VERY VERY VERY IMPORTANT!!!! ***
FrontendRenderer::1021::GetVisiblePOI is where clicks are interpreated to find what was "intended" to be
    selected on the map(it does distance calculation from point of click and checks against some minimum)

You need to clean gradle project and compile again to changes to take effect


checkout FR::1476::OnTap && m_blockTapEvents(who sets it, and why do they want to block taps)

FR::1499::m_tapEventInfoFn taps are passed to it

Extract tap info in framework.cpp::2404::OnTapEvent(check the call 2443::ActivateMapSelection)
======================================================================================
BUGS to FIX:
    1) It is showing download maps even for ethiopia(its been downloaded)

======================================================================================
TODOs:
    FIX: maybe start at the SplashActivity(make it HelloCash Splash) // b/c we also need to check if permissions are granted

    0) Start at the bank and directly go to the map(skip the SplashActivity & DownloadResourcesActivity)
    1) Implement the banking "skeleton" app
    2) Customize PlacePageView(make it display "Call", "name", "Type?(bank, shop)", "working hours")
    3) Make the bank places be downloadable
    4) Figure out how to embed the map in a fragment so it won't cover the whole screen(half-half)
    5) Package Ethiopia's map with the app(can just copying it to data/ work?)
    6) Fix: Zooming crashes at level 15
    7) Compile it to release version

======================================================================================
You need to invoke CustomBankLayer inside FR::RenderScene(otherwise, it won't be painted)
    so figure out where and when it needs to be called

update 1306 :: BuildOverlayTree     
    - Add CustomBankMarkLayer to array
look into GetDepthLayer()           BEEN HANDLED
    - If we need to add anything

what are the different UserMark Layers, how do they differ, are they drawn differently
The layer is defined by <UserMarkRenderData::m_state>
easiest way to solve layer clash is define a custom_bank layer


=====================================
|
|   Reference, (Not to be deleted)
|
=====================================
############# App lifecycle
<Android Manifest>
    DownloadResourcesActivity is alias of <SplashActivity> used to add the LAUNCHER intent

MwmActivity has a launchMode=singleTask which means only a single instance of this activity runs at a time

BEGIN_QUESTION: 
    How do user mark objects get rendered?

ANALYSIS_OF SplashActivity(A):

    // CHECK OUT HOW THE DURATION OF SPLASHACTIVITY "SPLASHING" GETS DETERMINED!!!

    WHEN IS IT CREATED: 
        At app launch(b/c it is the launcher) && It is created in App launch && 
        EVERY CHILD of base/BaseMwmFragmentActivity(almost all activities used)
            will launch SplashActivity if :
                1) The core is not initialized(graphics & other core services)
                2) External permissions is not granted
    WHAT DOES IT DO:
        It displays the "Maps.ME Debug" Splash Screen 
        It then displays the permission(storge, accessing location, ..,) dialogs
    WHEN DOES IT GO AWAY:
        Basically when permissions have been granted
    Where does it go to:
        2 options
            If it is first time launching(& CHECK)
                goes to DownloadResourcesLegacyActivity
            If it was launched by other base/BaseMwmFragmentActivity
                it launches the activity that launched it 

ANALYSIS_OF DownloadResourcesLegacyActivity:
    WHEN IS IT CREATED:
        Mainly launched from SplashActivity[check (A)]

    WHAT DOES IT DO:
        It checks(natively) if we need to download map[checks the folder & sees if map exists]
        If there is, it launches downloader natively
        If no need to download, it LAUNCHES MwmActivity
    NOTE: majority of the code are IntentProcessors, (they collect all that Intent Filtering in the Manifest && pass it to MwmActivity)

############# UI logic
Answer:
drape_frontend/     
    user_mark_generator
        actually converts the user marks into vertex array through GenerateUserMarksGeometry
    user_mark_shapes
        defines the data structures that contain actually drawing data, also it is what 
            {@code user_mark_generator} calls to perform OpenGL conversion
    user_marks_provider
        defines ({@code UserPointMark} that is extended by Bookmark, LocalAds, ...) and UserMarksProvider
END_QUESTION

BEGIN_QUESTION: 
    How does PLacePageView inside Android work

Answer:
    Sets up the views in 372:initViews()
    Adds the appropriate 473::PlacePageView buttons
    
END_QUESTION
